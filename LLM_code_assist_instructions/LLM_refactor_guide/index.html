
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>LLM refactor guide - Genie Tooling Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/print-site.css">
    
      <link rel="stylesheet" href="../../css/print-site-material.css">
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#genie-tooling-refactoring-migration-guide-for-llms" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Genie Tooling Docs" class="md-header__button md-logo" aria-label="Genie Tooling Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Genie Tooling Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              LLM refactor guide
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/genie-tooling/genie-tooling" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/plugin_architecture/" class="md-tabs__link">
          
  
  
  Developer Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tutorials/E01_simple_agent_cli/" class="md-tabs__link">
          
  
  
  Tutorials & Examples

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Genie Tooling Docs" class="md-nav__button md-logo" aria-label="Genie Tooling Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Genie Tooling Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/genie-tooling/genie-tooling" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/simplified_configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simplified Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/using_llm_providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using LLM Providers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/using_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/using_rag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using RAG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/using_command_processors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Command Processors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/tool_lookup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tool Lookup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/using_prompts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/using_conversation_state/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conversation State
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/observability_tracing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Observability & Tracing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/using_human_in_loop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Human-in-the-Loop (HITL)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/token_usage_tracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Token Usage Tracking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/using_guardrails/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guardrails
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/distributed_tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Distributed Tasks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/plugin_architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plugin Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/creating_plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating Plugins (Overview)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/creating_tool_plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating Tool Plugins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/creating_rag_plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating RAG Plugins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/creating_other_plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating Other Plugins
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/genie_facade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Genie Facade & Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/decorators/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Decorators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/core_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/plugin_manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plugin Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/config_models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MiddlewareConfig
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/config_features/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FeatureSettings
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tutorials & Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials & Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E01_simple_agent_cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simple Agent CLI (E01)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E02_ollama_chat_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ollama Chat (E02)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E03_openai_chat_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenAI Chat (E03)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E04_gemini_chat_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gemini Chat (E04)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E05_rag_pipeline_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG Pipeline Demo (E05)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E06_run_command_simple_keyword_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Simple Keyword Command (E06)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E07_run_command_llm_assisted_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM-Assisted Command (E07)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E08_decorator_tool_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    @tool Decorator (E08)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E09_web_rag_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web RAG (E09)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E10_chroma_tool_lookup_showcase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ChromaDB Tool Lookup (E10)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E11_advanced_showcase_agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Showcase (E11)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E12_custom_key_provider_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom KeyProvider (E12)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E13_google_search_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Google Search Tool (E13)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E14_filesystem_tool_demo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FileSystem Tool (E14)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E15_prompt_management_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prompt Management (E15)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E16_conversation_state_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conversation State (E16)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E17_observability_tracing_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Observability & Tracing (E17)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E18_human_in_loop_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Human-in-the-Loop (E18)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E19_llm_output_parsing_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Output Parsing (E19)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E20_token_usage_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Token Usage Tracking (E20)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E21_guardrails_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guardrails (E21)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E22_distributed_task_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Distributed Tasks (E22)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E23_local_e2e_llama_cpp_server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Llama.cpp Server E2E (E23)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E24_local_e2e_llama_cpp_internal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Llama.cpp Internal E2E (E24)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E25_llama_cpp_internal_gbnf_parsing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Llama.cpp Internal GBNF (E25)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E26_deep_research_agent_e2e/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deep Research Agent E2E (E26)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/E27_pyvider_log_adapter_tracing_example/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pyvider Log Adapter (E27)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Changelog
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#genie-tooling-refactoring-migration-guide-for-llms" class="md-nav__link">
    <span class="md-ellipsis">
      Genie Tooling Refactoring &amp; Migration Guide for LLMs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Genie Tooling Refactoring &amp; Migration Guide for LLMs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-0-deep-ingestion-semantic-understanding-of-genie-tooling" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 0: Deep Ingestion &amp; Semantic Understanding of Genie Tooling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-1-target-project-analysis-genie-capability-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 1: Target Project Analysis &amp; Genie Capability Mapping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-core-genie-integration-configuration-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 2: Core Genie Integration &amp; Configuration Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-iterative-refactoring-of-mapped-components" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 3: Iterative Refactoring of Mapped Components
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-4-testing-validation-and-refinement" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 4: Testing, Validation, and Refinement
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-5-finalization-documentation-code-cleanup" class="md-nav__link">
    <span class="md-ellipsis">
      Phase 5: Finalization - Documentation &amp; Code Cleanup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>LLM refactor guide</h1>

<h2 id="genie-tooling-refactoring-migration-guide-for-llms">Genie Tooling Refactoring &amp; Migration Guide for LLMs<a class="headerlink" href="#genie-tooling-refactoring-migration-guide-for-llms" title="Permanent link">&para;</a></h2>
<p><strong>Primary LLM Directive:</strong> Your goal is to analyze an existing Python codebase and systematically refactor its components to utilize the <code>genie-tooling</code> middleware. The primary interaction point will be the <code>genie_tooling.genie.Genie</code> facade. Prioritize modularity, configurability, and leveraging Genie's built-in plugin ecosystem. <strong>Key Change</strong>: Tools are now explicitly enabled via <code>MiddlewareConfig.tool_configurations</code>.</p>
<p><strong>Core Reference Documents for LLM:</strong>
1.  <strong><code>docs/LLM_code_assist_instructions/LLM_api_guide.md</code></strong>: This is your <strong>primary technical schema</strong> for Genie Tooling's API, plugin types, configuration structure, and core concepts. Internalize this deeply, noting the change in tool enablement and new features like the internal Llama.cpp provider and distributed task queues.
2.  <strong><code>README.md</code></strong>: For high-level vision, core concepts (Genie facade, plugins, <code>@tool</code>, explicit tool enablement), and quick start examples.
3.  <strong><code>pyproject.toml</code> (<code>[tool.poetry.plugins."genie_tooling.plugins"]</code> section)</strong>: Canonical source for plugin IDs and their Python module paths.
4.  <strong><code>src/genie_tooling/config/resolver.py</code> (<code>PLUGIN_ID_ALIASES</code> dict)</strong>: Mapping of user-friendly aliases to canonical plugin IDs.
5.  <strong><code>examples/</code> directory</strong>: Practical usage patterns and configuration examples, now reflecting explicit tool enablement and new features.
6.  <strong><code>docs/guides/</code></strong>: Detailed human-readable guides for specific features (e.g., RAG, LLM Providers, Configuration, Using Tools, Distributed Tasks, Observability).</p>
<hr />
<h3 id="phase-0-deep-ingestion-semantic-understanding-of-genie-tooling">Phase 0: Deep Ingestion &amp; Semantic Understanding of Genie Tooling<a class="headerlink" href="#phase-0-deep-ingestion-semantic-understanding-of-genie-tooling" title="Permanent link">&para;</a></h3>
<p><strong>LLM Instructions:</strong></p>
<ol>
<li><strong>Master <code>docs/LLM_code_assist_instructions/LLM_api_guide.md</code></strong>: This document is specifically structured for your consumption. Treat it as the ground truth for Genie's API, available plugin types, configuration parameters (via <code>MiddlewareConfig</code> and <code>FeatureSettings</code>), and core data structures (e.g., <code>ChatMessage</code>, <code>ToolCall</code>, <code>AgentOutput</code>). <strong>Pay special attention to the <code>tool_configurations</code> field in <code>MiddlewareConfig</code> as the method for enabling tools, and note the new <code>llama_cpp_internal</code> LLM provider and <code>task_queue</code> interface.</strong></li>
<li><strong>Internalize Core Concepts (<code>README.md</code>)</strong>:<ul>
<li><strong><code>Genie</code> Facade</strong>: Understand its role as the central interaction point.</li>
<li><strong>Plugin Architecture</strong>: Grasp that most functionalities are swappable plugins.</li>
<li><strong>Explicit Tool Enablement</strong>: Recognize that tools are only loaded if their ID is a key in <code>MiddlewareConfig.tool_configurations</code>.</li>
<li><strong>Managers</strong>: Note their role in orchestrating plugin types (though direct interaction is rare when using the facade).</li>
<li><strong><code>@tool</code> Decorator</strong>: Recognize its utility for quickly turning Python functions into tools. These decorated tools also need to be enabled via <code>tool_configurations</code> after registration.</li>
<li><strong>Configuration (<code>MiddlewareConfig</code>, <code>FeatureSettings</code>, <code>ConfigResolver</code>)</strong>: Understand the layered configuration approach.</li>
</ul>
</li>
<li><strong>Plugin Identification &amp; Aliasing</strong>:<ul>
<li>Correlate plugin IDs from <code>pyproject.toml</code> with aliases in <code>PLUGIN_ID_ALIASES</code> from <code>resolver.py</code>.</li>
</ul>
</li>
<li><strong>Facade &amp; Interface Study</strong>:<ul>
<li>Analyze <code>src/genie_tooling/genie.py</code> to see how the <code>Genie</code> class initializes and exposes its sub-interfaces, including the new <code>TaskQueueInterface</code>.</li>
<li>Thoroughly review <code>src/genie_tooling/interfaces.py</code>.</li>
</ul>
</li>
<li><strong>Practical Application Patterns</strong>:<ul>
<li>Examine all files in the <code>examples/</code> directory. Pay close attention to how <code>MiddlewareConfig</code> (especially <code>tool_configurations</code>) and <code>FeatureSettings</code> are used, including examples for new features like <code>E17_observability_tracing_example.py</code>, <code>E20_token_usage_example.py</code>, and <code>E22_distributed_task_example.py</code>.</li>
</ul>
</li>
</ol>
<hr />
<h3 id="phase-1-target-project-analysis-genie-capability-mapping">Phase 1: Target Project Analysis &amp; Genie Capability Mapping<a class="headerlink" href="#phase-1-target-project-analysis-genie-capability-mapping" title="Permanent link">&para;</a></h3>
<p><strong>LLM Instructions:</strong></p>
<ol>
<li><strong>Deconstruct Target Project</strong>: (Same as before)</li>
<li><strong>Create a Refactoring Map</strong>: (Same as before, but when mapping to a Genie Tool, note that it will need to be added to <code>tool_configurations</code>).</li>
<li><strong>Assess API Key Handling</strong>: (Same as before)</li>
<li><strong>Identify Custom Plugin Candidates</strong>: (Same as before)</li>
</ol>
<hr />
<h3 id="phase-2-core-genie-integration-configuration-setup">Phase 2: Core Genie Integration &amp; Configuration Setup<a class="headerlink" href="#phase-2-core-genie-integration-configuration-setup" title="Permanent link">&para;</a></h3>
<p><strong>LLM Instructions:</strong></p>
<ol>
<li><strong>Add Dependency</strong>: (Same as before)</li>
<li><strong>Design <code>MiddlewareConfig</code></strong>:<ul>
<li>Create a central configuration point.</li>
<li>Instantiate <code>genie_tooling.config.models.MiddlewareConfig</code>.</li>
<li>Prioritize using <code>genie_tooling.config.features.FeatureSettings</code>.</li>
<li><strong>Crucially, populate <code>app_config.tool_configurations</code> with entries for <em>every tool</em> that needs to be active.</strong> For tools without specific settings, an empty dictionary is sufficient (e.g., <code>app_config.tool_configurations = {"calculator_tool": {}}</code>).<ul>
<li>Example:
    <div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">genie_tooling.config.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">MiddlewareConfig</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">genie_tooling.config.features</span><span class="w"> </span><span class="kn">import</span> <span class="n">FeatureSettings</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="n">app_features</span> <span class="o">=</span> <span class="n">FeatureSettings</span><span class="p">(</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="n">llm</span><span class="o">=</span><span class="s2">&quot;ollama&quot;</span><span class="p">,</span> 
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="c1"># ... other features like task_queue=&quot;celery&quot; ...</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">app_config</span> <span class="o">=</span> <span class="n">MiddlewareConfig</span><span class="p">(</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    <span class="n">features</span><span class="o">=</span><span class="n">app_features</span><span class="p">,</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    <span class="n">tool_configurations</span><span class="o">=</span><span class="p">{</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        <span class="s2">&quot;calculator_tool&quot;</span><span class="p">:</span> <span class="p">{},</span> <span class="c1"># Enable calculator</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>        <span class="s2">&quot;my_existing_api_tool_id&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;api_base_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://service.com/api&quot;</span><span class="p">},</span> <span class="c1"># Enable &amp; configure</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>        <span class="s2">&quot;another_simple_tool_id&quot;</span><span class="p">:</span> <span class="p">{}</span> 
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>    <span class="p">}</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="p">)</span>
</code></pre></div></li>
</ul>
</li>
<li>For functionalities not covered by <code>FeatureSettings</code> or requiring specific overrides, populate the relevant <code>*_configurations</code> dictionaries (e.g., <code>llm_provider_configurations</code>, <code>distributed_task_queue_configurations</code>).</li>
<li>If custom plugins reside in project-specific directories, add these paths to <code>app_config.plugin_dev_dirs</code>.</li>
</ul>
</li>
<li><strong>Implement/Configure <code>KeyProvider</code></strong>: (Same as before)</li>
<li><strong>Instantiate <code>Genie</code> Facade</strong>: (Same as before)</li>
<li><strong>Integrate Teardown</strong>: (Same as before)</li>
</ol>
<hr />
<h3 id="phase-3-iterative-refactoring-of-mapped-components">Phase 3: Iterative Refactoring of Mapped Components<a class="headerlink" href="#phase-3-iterative-refactoring-of-mapped-components" title="Permanent link">&para;</a></h3>
<p><strong>LLM Instructions:</strong> Systematically replace existing functionalities with their Genie Tooling equivalents.</p>
<ol>
<li><strong>LLM Interactions (<code>genie.llm</code>)</strong>: (Same as before. Consider <code>llama_cpp_internal</code> for local execution.)</li>
<li><strong>Tool Definition &amp; Execution (<code>@tool</code>, <code>genie.execute_tool</code>, <code>genie.run_command</code>)</strong>:<ul>
<li><strong>Refactor Functions to Tools</strong>: Apply <code>@genie_tooling.tool</code>.</li>
<li><strong>Register Tools</strong>: Call <code>await genie.register_tool_functions([...])</code>.</li>
<li><strong>Enable Registered Tools</strong>: <strong>Ensure the identifiers of these registered tools are added as keys to <code>MiddlewareConfig.tool_configurations</code> (e.g., <code>{"my_decorated_function_name": {}}</code>).</strong></li>
<li><strong>Replace Direct Calls</strong>: Change to <code>await genie.execute_tool("tool_name_as_string", ...)</code>.</li>
<li><strong>Refactor Command Parsing</strong>: Replace with <code>await genie.run_command(user_query_string)</code>. Ensure any tools the command processor might select are enabled in <code>tool_configurations</code>.</li>
</ul>
</li>
<li><strong>Command Processing (<code>genie.run_command</code>)</strong>:<ul>
<li>(Same as before, but reiterate that any tools the processor might select must be enabled in <code>tool_configurations</code>).</li>
</ul>
</li>
<li><strong>RAG Pipeline (<code>genie.rag</code>)</strong>: (Same as before)</li>
<li><strong>Prompt Management (<code>genie.prompts</code>)</strong>: (Same as before)</li>
<li><strong>Conversation State (<code>genie.conversation</code>)</strong>: (Same as before)</li>
<li><strong>Observability (<code>genie.observability</code>)</strong>: (Same as before, noting OpenTelemetry support)</li>
<li><strong>Human-in-the-Loop (<code>genie.human_in_loop</code>)</strong>: (Same as before)</li>
<li><strong>Token Usage Tracking (<code>genie.usage</code>)</strong>: (Same as before, noting OpenTelemetry metrics support)</li>
<li><strong>Guardrails</strong>: (Same as before)</li>
<li><strong>LLM Output Parsing (<code>genie.llm.parse_output</code>)</strong>: (Same as before)</li>
<li><strong>Agentic Loops (<code>genie_tooling.agents</code>)</strong>:<ul>
<li>(Same as before, ensuring any tools used by the agent are enabled in <code>tool_configurations</code>).</li>
</ul>
</li>
<li><strong>Distributed Task Offloading (<code>genie.task_queue</code>)</strong>:<ul>
<li>Replace direct calls to Celery/RQ client libraries with <code>await genie.task_queue.submit_task(...)</code>, <code>await genie.task_queue.get_task_status(...)</code>, etc.</li>
<li>If the remote task involves executing a Genie tool, that tool must be enabled in the <em>worker's</em> Genie configuration.</li>
<li>Consider if the <code>DistributedTaskInvocationStrategy</code> can simplify tool offloading, if applicable and configured.</li>
</ul>
</li>
</ol>
<hr />
<h3 id="phase-4-testing-validation-and-refinement">Phase 4: Testing, Validation, and Refinement<a class="headerlink" href="#phase-4-testing-validation-and-refinement" title="Permanent link">&para;</a></h3>
<p><strong>LLM Instructions:</strong></p>
<ol>
<li><strong>Unit Tests</strong>: (Same as before)</li>
<li><strong>Integration Tests</strong>:<ul>
<li>Ensure <code>MiddlewareConfig</code> in tests correctly enables all necessary tools via <code>tool_configurations</code>.</li>
<li>Test new features like task queue interactions and internal Llama.cpp provider usage.</li>
</ul>
</li>
<li><strong>Behavioral Verification</strong>: (Same as before)</li>
<li><strong>Configuration Robustness</strong>: (Same as before)</li>
<li><strong>Observability Review</strong>: Review traces and metrics generated by the framework to ensure they are correct and provide meaningful insight.</li>
</ol>
<hr />
<h3 id="phase-5-finalization-documentation-code-cleanup">Phase 5: Finalization - Documentation &amp; Code Cleanup<a class="headerlink" href="#phase-5-finalization-documentation-code-cleanup" title="Permanent link">&para;</a></h3>
<p><strong>LLM Instructions:</strong></p>
<ol>
<li><strong>Update Project Documentation</strong>:<ul>
<li>Clearly document that tools must be enabled via <code>MiddlewareConfig.tool_configurations</code>.</li>
<li>Update guides for new features: Llama.cpp internal provider, distributed task queues (Celery &amp; RQ), OpenTelemetry tracing and metrics.</li>
</ul>
</li>
<li><strong>Code Cleanup</strong>: (Same as before)</li>
<li><strong>Configuration Review</strong>:<ul>
<li>Verify that <code>tool_configurations</code> correctly lists all active tools.</li>
</ul>
</li>
<li><strong>Update <code>LLM_api_guide.md</code> (If Genie Tooling Itself Was Modified)</strong>:<ul>
<li><strong>CRITICAL LLM SELF-REFLECTION</strong>: (Same as before. Ensure the API guide reflects the explicit tool enablement via <code>tool_configurations</code> and all new features like <code>llama_cpp_internal</code> and <code>task_queue</code> interface.)</li>
</ul>
</li>
</ol>
<hr />












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../../js/print-site.js"></script>
      
    
  </body>
</html>